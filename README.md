# 🤖 בוט המעקב החכם - Watch & Forget

בוט טלגרם מתקדם למעקב אחרי נושאים עם Tavily AI ויכולות browsing.

## ✨ תכונות

- 📌 מעקב אחרי נושאים שונים
- 🧠 Tavily AI עם browsing לחיפוש ואנליזה של מידע ברשת
- 🎯 סינון תוצאות חכם למניעת כפילויות
- ⏰ בדיקה אוטומטית כל 24 שעות
- 💾 שמירת היסטוריה ב-SQLite
- 🔔 התראות על תוכן חדש בלבד

## 🚀 הקמה מהירה

### 1. הכנת מפתחות API

- **Telegram Bot**: יצרו בוט ב-[@BotFather](https://t.me/botfather)
- **Tavily API**: [app.tavily.com](https://app.tavily.com) (לקבלת API Key)

### 2. הפעלה ב-Render

1. **Fork הפרויקט ל-GitHub שלכם**

2. **צרו שירות ב-Render:**
   - קישרו את המאגר מ-GitHub
   - בחרו `Web Service`
   - הגדירו `Branch: main`

3. **הגדירו משתני סביבה ב-Render:**
   ```
   BOT_TOKEN=your_telegram_bot_token
   TAVILY_API_KEY=your_tavily_api_key
   ADMIN_ID=your_telegram_user_id
   ```

4. **הפעילו Persistent Disk:**
   - שם: `watchbot-data`
   - גודל: 1GB
   - נתיב: `/var/data`

### 3. פרסום והפעלה

הבוט יופעל אוטומטית לאחר הפרסום ויהיה זמין 24/7.

## 📱 פקודות הבוט

| פקודה | תיאור |
|--------|--------|
| `/start` | התחלת עבודה עם הבוט |
| `/watch <נושא>` | הוספת נושא למעקב |
| `/list` | רשימת נושאים פעילים |
| `/remove <נושא/ID>` | הסרת נושא מהמעקב |
| `/pause` | השבתת התראות |
| `/resume` | הפעלת התראות מחדש |
| `/help` | מדריך שימוש |

**פקודות אדמין:**
- `/stats` - סטטיסטיקות כלליות

## 🔧 ארכיטקטורה טכנית

### רכיבי המערכת
- **Python Telegram Bot** - ממשק המשתמש
- **SQLite** - אחסון נתונים מקומי
- **Tavily AI** - חיפוש, אנליזה וסינון תוצאות
- **Flask** - שרת Keep-Alive לתוכנית החינמית
- **APScheduler** - תזמון בדיקות אוטומטיות

### זרימת עבודה
1. **קלט משתמש** → שמירת נושא ב-SQLite
2. **תזמון אוטומטי** → Tavily AI חופש באינטרנט מידע עדכני
3. **אנליזה** → Tavily AI מנתח ומסנן תוצאות רלוונטיות
4. **בדיקת כפילויות** → השוואה עם תוצאות קודמות
5. **התראה** → שליחה למשתמש רק על תוכן חדש

## 📁 מבנה הפרויקט

```
watchbot/
├── main.py              # הקוד הראשי
├── requirements.txt     # תלויות Python
├── Dockerfile          # הגדרת קונטיינר
├── render.yaml         # הגדרות Render
└── README.md           # המדריך הזה
```

## 🔒 אבטחה

- **מפתחות API** נשמרים כמשתני סביבה מוצפנים
- **מגבלות קצב** למניעת עודף קריאות API
- **תיקוף משתמשים** עם הרשאות אדמין
- **גיבוי אוטומטי** של בסיס הנתונים

## 💰 עלויות

### Render (חינמי/משלם)
- **תוכנית חינמית**: 750 שעות/חודש
- **תוכנית Starter**: $7/חודש ללא הגבלה

### APIs
- **Tavily API**: בתשלום (מחירים סבירים)
- **טלגרם**: חינמי לחלוטין

## 🛠️ פתרון תקלות נפוצות

### בוט לא מגיב
```bash
# בדיקת לוגים ב-Render
# Render Dashboard → Service → Logs
```

### שגיאת `ModuleNotFoundError`
- ודאו ש-`requirements.txt` מעודכן
- בדקו שכל הקבצים ב-git push

### שגיאת API
- בדקו שהמפתח של Tavily נכון במשתני הסביבה
- ודאו שיש לכם יתרה במחשבון Tavily

### שגיאת דיסק
- ודאו שהדיסק מחובר ל-`/var/data`
- בדקו הרשאות כתיבה

## 🚀 שדרוגים עתידיים

### 🎯 יתרונות הגישה החדשה (Tavily API בלבד)
- **פשטות מקסימלית** - API אחד במקום שניים
- **חיפוש מתמחה** - Tavily מתמחה בחיפושים באינטרנט ומספק תוצאות מדויקות
- **איכות גבוהה** - תוצאות מבוססות על מקורות אמינים
- **תמיכה בעברית** - מספק תשובות באיכות גבוהה בעברית

### 🔮 תכונות עתידיות
- 📰 חיבור לפידי RSS
- 📱 איתור פוסטים בטלגרם פומבי
- 🔊 התראות קוליות
- 📊 דו"ח יומי מרוכז
- ⌨️ ממשק InlineKeyboard מתקדם

## 📞 תמיכה

לתמיכה ושאלות:
1. בדקו את הלוגים ב-Render
2. ודאו שמשתני הסביבה מוגדרים נכון
3. בדקו את המדריך לפתרון תקלות

---

**הצלחה בהרצת הבוט! 🎉**
